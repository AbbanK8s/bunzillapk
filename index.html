<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>BunZilla | Roaring Flavors</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <style>
        .zilla-fly {
            position: fixed;
            z-index: 100;
            transition: all 0.8s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            pointer-events: none;
        }
        .cart-badge { top: -10px; right: -10px; }
    </style>
</head>
<body class="bg-gray-50 font-sans">

    <header class="bg-green-600 text-white p-4 sticky top-0 z-50 shadow-lg">
        <div class="container mx-auto flex justify-between items-center">
            <h1 class="text-2xl font-bold italic">ðŸ¦– BUNZILLA</h1>
            <div id="cart-btn" class="relative cursor-pointer p-2">
                <span class="text-2xl">ðŸ›’</span>
                <span id="cart-count" class="absolute cart-badge bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center">0</span>
            </div>
        </div>
    </header>

    <main class="container mx-auto p-6">
        <h2 class="text-3xl font-bold text-center mb-8 text-gray-800">Roar for These Deals!</h2>
        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6" id="menu-grid">
            </div>
    </main>

    <div id="cart-modal" class="fixed inset-0 bg-black bg-opacity-50 hidden flex items-center justify-center z-[100]">
        <div class="bg-white p-8 rounded-2xl max-w-md w-full m-4">
            <h3 class="text-2xl font-bold mb-4">Your Order</h3>
            <div id="cart-items" class="mb-4 max-h-60 overflow-y-auto"></div>
            <hr class="my-2">
            <div class="flex justify-between font-bold text-lg">
                <span>Delivery Fee:</span>
                <span>Rs. 100</span>
            </div>
            <div class="flex justify-between font-bold text-2xl text-green-600 mt-2">
                <span>Total:</span>
                <span id="cart-total">Rs. 0</span>
            </div>
            <button onclick="processOrder()" class="w-full bg-green-600 text-white py-3 rounded-xl mt-6 font-bold hover:bg-green-700 transition">Confirm Order</button>
            <button onclick="toggleCart()" class="w-full text-gray-500 mt-2">Close</button>
        </div>
    </div>

    <script>
        const menuItems = [
            { id: 1, name: 'CrunchZilla Burger', price: 450, img: 'https://images.unsplash.com/photo-1568901346375-23c9450c58cd?w=300' },
            { id: 2, name: 'Zilla Wrap', price: 350, img: 'https://images.unsplash.com/photo-1626700051175-656a14860b47?w=300' },
            { id: 3, name: 'Zilla Pizza (Personal)', price: 700, img: 'https://images.unsplash.com/photo-1513104890138-7c749659a591?w=300' },
            { id: 4, name: 'Zilla Cooler (Drink)', price: 150, img: 'https://images.unsplash.com/photo-1543253337-02ed40d73bd7?w=300' }
        ];

        let cart = [];
        let userName = "";

        // 1. Ask for name immediately
        window.onload = () => {
            renderMenu();
            setTimeout(() => {
                userName = prompt("Welcome to BunZilla! What's your name?") || "Valued Customer";
            }, 500);
        };

        function renderMenu() {
            const grid = document.getElementById('menu-grid');
            grid.innerHTML = menuItems.map(item => `
                <div class="bg-white rounded-xl shadow-md overflow-hidden hover:shadow-xl transition p-4 border border-gray-100 relative">
                    <img src="${item.img}" class="w-full h-48 object-cover rounded-lg mb-4">
                    <h3 class="font-bold text-xl">${item.name}</h3>
                    <p class="text-green-600 font-bold">Rs. ${item.price}</p>
                    <button onclick="addToCart(${item.id}, event)" class="mt-4 w-full bg-black text-white py-2 rounded-lg hover:bg-green-600 transition flex items-center justify-center gap-2">
                        Add to Cart
                    </button>
                </div>
            `).join('');
        }

        function addToCart(id, event) {
            // 2. Spam Protection: Limit of 5 items
            if (cart.length >= 5) {
                alert("Whoa! Zilla says 5 items max per order for safety!");
                return;
            }

            const item = menuItems.find(i => i.id === id);
            cart.push(item);
            
            // 3. Animation: Flying Zilla Icon
            animateToCart(event.target);
            updateCartUI();
        }

        function animateToCart(btnElement) {
            const fly = document.createElement('div');
            fly.innerHTML = "ðŸ¦–";
            fly.className = "zilla-fly text-3xl";
            document.body.appendChild(fly);

            const rect = btnElement.getBoundingClientRect();
            const cartRect = document.getElementById('cart-btn').getBoundingClientRect();

            fly.style.left = rect.left + 'px';
            fly.style.top = rect.top + 'px';

            setTimeout(() => {
                fly.style.left = cartRect.left + 'px';
                fly.style.top = cartRect.top + 'px';
                fly.style.opacity = '0';
                fly.style.transform = 'scale(0.5) rotate(360deg)';
            }, 10);

            setTimeout(() => fly.remove(), 800);
        }

        function updateCartUI() {
            document.getElementById('cart-count').innerText = cart.length;
            const cartItemsDiv = document.getElementById('cart-items');
            const totalSpan = document.getElementById('cart-total');
            
            cartItemsDiv.innerHTML = cart.map((item, index) => `
                <div class="flex justify-between py-2 border-b">
                    <span>${item.name}</span>
                    <span class="font-bold">Rs. ${item.price}</span>
                </div>
            `).join('');

            const subtotal = cart.reduce((sum, item) => sum + item.price, 0);
            totalSpan.innerText = `Rs. ${subtotal + 100}`; // Includes 100 delivery
        }

        function toggleCart() {
            document.getElementById('cart-modal').classList.toggle('hidden');
        }

        document.getElementById('cart-btn').onclick = toggleCart;

        function processOrder() {
            if (cart.length === 0) return alert("Your cart is empty!");
            
            // Generate Order Text
            const itemsList = cart.map(i => i.name).join(", ");
            const total = cart.reduce((sum, item) => sum + item.price, 0) + 100;
            const message = `Hi BunZilla! I'm ${userName}. I want to order: ${itemsList}. Total with delivery: Rs. ${total}`;
            
            // Use CTA (Button click to WhatsApp)
            const waUrl = `https://wa.me/YOUR_NUMBER_HERE?text=${encodeURIComponent(message)}`;
            window.open(waUrl, '_blank');
        }
    </script>
</body>
</html>
